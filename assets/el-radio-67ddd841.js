import{aQ as Oa,I as be,an as He,a8 as de,aa as Xe,ab as Je,aR as Fe,ao as Ee,r as V,N as xe,c as g,at as ra,au as qa,L as Z,P as oe,o as y,e as _,f as W,af as ve,aS as da,h as s,aj as Ke,S as N,ay as se,a6 as Te,i as Oe,t as le,U as ue,Q as te,T as ua,aT as Ga,as as ca,aU as Ua,Y as qe,a5 as pa,b as ze,aV as Wa,n as ne,az as fa,ah as Za,ai as va,aA as ja,aH as Ya,$ as ye,aW as ha,aI as ma,a1 as Xa,m as U,x as Y,q as A,w as z,g as X,F as he,aX as ba,M as Ja,ar as ga,s as ke,aY as Re,am as Qe,a9 as Qa,V as ea,aZ as Ce,J as Ne,a_ as et,a$ as at,b0 as tt,b1 as ya,b2 as lt,a3 as K,b3 as $e,b4 as ka,b5 as nt,b6 as st,b7 as ot,b8 as it,b9 as rt,R as dt,E as ut,ba as ct,av as pt,aB as aa,bb as ta,al as ft,bc as vt,bd as ht,ag as la,be as mt,bf as bt}from"./index-e0dafb85.js";import{b as gt}from"./el-form-item-01002221.js";var yt=1,kt=4;function Ca(e){return gt(e,yt|kt)}var Ct=1/0;function Nt(e){var t=e==null?0:e.length;return t?Oa(e,Ct):[]}const na=e=>[...new Set(e)],sa=e=>!e&&e!==0?[]:Array.isArray(e)?e:[e],Et=()=>Math.floor(Math.random()*1e4),Na=be({size:He,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),$t=be({...Na,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),Ea={[de]:e=>Xe(e)||Je(e)||Fe(e),[Ee]:e=>Xe(e)||Je(e)||Fe(e)},$a=Symbol("radioGroupKey"),Sa=(e,t)=>{const n=V(),a=xe($a,void 0),i=g(()=>!!a),p=g({get(){return i.value?a.modelValue:e.modelValue},set(b){i.value?a.changeEvent(b):t&&t(de,b),n.value.checked=e.modelValue===e.label}}),d=ra(g(()=>a==null?void 0:a.size)),v=qa(g(()=>a==null?void 0:a.disabled)),r=V(!1),h=g(()=>v.value||i.value&&p.value!==e.label?-1:0);return{radioRef:n,isGroup:i,radioGroup:a,focus:r,size:d,disabled:v,tabIndex:h,modelValue:p}},St=["value","name","disabled"],wt=Z({name:"ElRadio"}),Tt=Z({...wt,props:$t,emits:Ea,setup(e,{emit:t}){const n=e,a=oe("radio"),{radioRef:i,radioGroup:p,focus:d,size:v,disabled:r,modelValue:h}=Sa(n,t);function b(){te(()=>t("change",h.value))}return(f,k)=>{var w;return y(),_("label",{class:N([s(a).b(),s(a).is("disabled",s(r)),s(a).is("focus",s(d)),s(a).is("bordered",f.border),s(a).is("checked",s(h)===f.label),s(a).m(s(v))])},[W("span",{class:N([s(a).e("input"),s(a).is("disabled",s(r)),s(a).is("checked",s(h)===f.label)])},[ve(W("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":k[0]||(k[0]=D=>Ke(h)?h.value=D:null),class:N(s(a).e("original")),value:f.label,name:f.name||((w=s(p))==null?void 0:w.name),disabled:s(r),type:"radio",onFocus:k[1]||(k[1]=D=>d.value=!0),onBlur:k[2]||(k[2]=D=>d.value=!1),onChange:b,onClick:k[3]||(k[3]=se(()=>{},["stop"]))},null,42,St),[[da,s(h)]]),W("span",{class:N(s(a).e("inner"))},null,2)],2),W("span",{class:N(s(a).e("label")),onKeydown:k[4]||(k[4]=se(()=>{},["stop"]))},[Te(f.$slots,"default",{},()=>[Oe(le(f.label),1)])],34)],2)}}});var Vt=ue(Tt,[["__file","radio.vue"]]);const It=be({...Na,name:{type:String,default:""}}),Lt=["value","name","disabled"],Pt=Z({name:"ElRadioButton"}),_t=Z({...Pt,props:It,setup(e){const t=e,n=oe("radio"),{radioRef:a,focus:i,size:p,disabled:d,modelValue:v,radioGroup:r}=Sa(t),h=g(()=>({backgroundColor:(r==null?void 0:r.fill)||"",borderColor:(r==null?void 0:r.fill)||"",boxShadow:r!=null&&r.fill?`-1px 0 0 0 ${r.fill}`:"",color:(r==null?void 0:r.textColor)||""}));return(b,f)=>{var k;return y(),_("label",{class:N([s(n).b("button"),s(n).is("active",s(v)===b.label),s(n).is("disabled",s(d)),s(n).is("focus",s(i)),s(n).bm("button",s(p))])},[ve(W("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":f[0]||(f[0]=w=>Ke(v)?v.value=w:null),class:N(s(n).be("button","original-radio")),value:b.label,type:"radio",name:b.name||((k=s(r))==null?void 0:k.name),disabled:s(d),onFocus:f[1]||(f[1]=w=>i.value=!0),onBlur:f[2]||(f[2]=w=>i.value=!1),onClick:f[3]||(f[3]=se(()=>{},["stop"]))},null,42,Lt),[[da,s(v)]]),W("span",{class:N(s(n).be("button","inner")),style:ua(s(v)===b.label?s(h):{}),onKeydown:f[4]||(f[4]=se(()=>{},["stop"]))},[Te(b.$slots,"default",{},()=>[Oe(le(b.label),1)])],38)],2)}}});var wa=ue(_t,[["__file","radio-button.vue"]]);const Dt=be({id:{type:String,default:void 0},size:He,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),Bt=Ea,Mt=["id","aria-label","aria-labelledby"],Ft=Z({name:"ElRadioGroup"}),zt=Z({...Ft,props:Dt,emits:Bt,setup(e,{emit:t}){const n=e,a=oe("radio"),i=Ga(),p=V(),{formItem:d}=ca(),{inputId:v,isLabeledByFormItem:r}=Ua(n,{formItemContext:d}),h=f=>{t(de,f),te(()=>t("change",f))};qe(()=>{const f=p.value.querySelectorAll("[type=radio]"),k=f[0];!Array.from(f).some(w=>w.checked)&&k&&(k.tabIndex=0)});const b=g(()=>n.name||i.value);return pa($a,ze({...Wa(n),changeEvent:h,name:b})),ne(()=>n.modelValue,()=>{n.validateEvent&&(d==null||d.validate("change").catch(f=>fa()))}),(f,k)=>(y(),_("div",{id:s(v),ref_key:"radioGroupRef",ref:p,class:N(s(a).b("group")),role:"radiogroup","aria-label":s(r)?void 0:f.label||"radio-group","aria-labelledby":s(r)?s(d).labelId:void 0},[Te(f.$slots,"default")],10,Mt))}});var Ta=ue(zt,[["__file","radio-group.vue"]]);const Rt=Za(Vt,{RadioButton:wa,RadioGroup:Ta}),vl=va(Ta);va(wa);var At=Z({name:"NodeContent",setup(){return{ns:oe("cascader-node")}},render(){const{ns:e}=this,{node:t,panel:n}=this.$parent,{data:a,label:i}=t,{renderLabelFn:p}=n;return ja("span",{class:e.e("label")},p?p({node:t,data:a}):i)}});const Ge=Symbol(),Ht=Z({name:"ElCascaderNode",components:{ElCheckbox:Ya,ElRadio:Rt,NodeContent:At,ElIcon:ye,Check:ha,Loading:ma,ArrowRight:Xa},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const n=xe(Ge),a=oe("cascader-node"),i=g(()=>n.isHoverMenu),p=g(()=>n.config.multiple),d=g(()=>n.config.checkStrictly),v=g(()=>{var E;return(E=n.checkedNodes[0])==null?void 0:E.uid}),r=g(()=>e.node.isDisabled),h=g(()=>e.node.isLeaf),b=g(()=>d.value&&!h.value||!r.value),f=g(()=>w(n.expandingNode)),k=g(()=>d.value&&n.checkedNodes.some(w)),w=E=>{var P;const{level:R,uid:ie}=e.node;return((P=E==null?void 0:E.pathNodes[R-1])==null?void 0:P.uid)===ie},D=()=>{f.value||n.expandNode(e.node)},J=E=>{const{node:P}=e;E!==P.checked&&n.handleCheckChange(P,E)},L=()=>{n.lazyLoad(e.node,()=>{h.value||D()})},O=E=>{i.value&&(B(),!h.value&&t("expand",E))},B=()=>{const{node:E}=e;!b.value||E.loading||(E.loaded?D():L())},j=()=>{i.value&&!h.value||(h.value&&!r.value&&!d.value&&!p.value?q(!0):B())},H=E=>{d.value?(J(E),e.node.loaded&&D()):q(E)},q=E=>{e.node.loaded?(J(E),!d.value&&D()):L()};return{panel:n,isHoverMenu:i,multiple:p,checkStrictly:d,checkedNodeId:v,isDisabled:r,isLeaf:h,expandable:b,inExpandingPath:f,inCheckedPath:k,ns:a,handleHoverExpand:O,handleExpand:B,handleClick:j,handleCheck:q,handleSelectCheck:H}}}),xt=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],Kt=W("span",null,null,-1);function Ot(e,t,n,a,i,p){const d=U("el-checkbox"),v=U("el-radio"),r=U("check"),h=U("el-icon"),b=U("node-content"),f=U("loading"),k=U("arrow-right");return y(),_("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:N([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:t[2]||(t[2]=(...w)=>e.handleHoverExpand&&e.handleHoverExpand(...w)),onFocus:t[3]||(t[3]=(...w)=>e.handleHoverExpand&&e.handleHoverExpand(...w)),onClick:t[4]||(t[4]=(...w)=>e.handleClick&&e.handleClick(...w))},[Y(" prefix "),e.multiple?(y(),A(d,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:t[0]||(t[0]=se(()=>{},["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(y(),A(v,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:t[1]||(t[1]=se(()=>{},["stop"]))},{default:z(()=>[Y(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),Kt]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(y(),A(h,{key:2,class:N(e.ns.e("prefix"))},{default:z(()=>[X(r)]),_:1},8,["class"])):Y("v-if",!0),Y(" content "),X(b),Y(" postfix "),e.isLeaf?Y("v-if",!0):(y(),_(he,{key:3},[e.node.loading?(y(),A(h,{key:0,class:N([e.ns.is("loading"),e.ns.e("postfix")])},{default:z(()=>[X(f)]),_:1},8,["class"])):(y(),A(h,{key:1,class:N(["arrow-right",e.ns.e("postfix")])},{default:z(()=>[X(k)]),_:1},8,["class"]))],64))],42,xt)}var qt=ue(Ht,[["render",Ot],["__file","node.vue"]]);const Gt=Z({name:"ElCascaderMenu",components:{Loading:ma,ElIcon:ye,ElScrollbar:ba,ElCascaderNode:qt},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=Ja(),n=oe("cascader-menu"),{t:a}=ga(),i=Et();let p=null,d=null;const v=xe(Ge),r=V(null),h=g(()=>!e.nodes.length),b=g(()=>!v.initialLoaded),f=g(()=>`cascader-menu-${i}-${e.index}`),k=L=>{p=L.target},w=L=>{if(!(!v.isHoverMenu||!p||!r.value))if(p.contains(L.target)){D();const O=t.vnode.el,{left:B}=O.getBoundingClientRect(),{offsetWidth:j,offsetHeight:H}=O,q=L.clientX-B,E=p.offsetTop,P=E+p.offsetHeight;r.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${q} ${E} L${j} 0 V${E} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${q} ${P} L${j} ${H} V${P} Z" />
        `}else d||(d=window.setTimeout(J,v.config.hoverThreshold))},D=()=>{d&&(clearTimeout(d),d=null)},J=()=>{r.value&&(r.value.innerHTML="",D())};return{ns:n,panel:v,hoverZone:r,isEmpty:h,isLoading:b,menuId:f,t:a,handleExpand:k,handleMouseMove:w,clearHoverZone:J}}});function Ut(e,t,n,a,i,p){const d=U("el-cascader-node"),v=U("loading"),r=U("el-icon"),h=U("el-scrollbar");return y(),A(h,{key:e.menuId,tag:"ul",role:"menu",class:N(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:z(()=>{var b;return[(y(!0),_(he,null,ke(e.nodes,f=>(y(),A(d,{key:f.uid,node:f,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(y(),_("div",{key:0,class:N(e.ns.e("empty-text"))},[X(r,{size:"14",class:N(e.ns.is("loading"))},{default:z(()=>[X(v)]),_:1},8,["class"]),Oe(" "+le(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(y(),_("div",{key:1,class:N(e.ns.e("empty-text"))},le(e.t("el.cascader.noData")),3)):(b=e.panel)!=null&&b.isHoverMenu?(y(),_("svg",{key:2,ref:"hoverZone",class:N(e.ns.e("hover-zone"))},null,2)):Y("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var Wt=ue(Gt,[["render",Ut],["__file","menu.vue"]]);let Zt=0;const jt=e=>{const t=[e];let{parent:n}=e;for(;n;)t.unshift(n),n=n.parent;return t};class me{constructor(t,n,a,i=!1){this.data=t,this.config=n,this.parent=a,this.root=i,this.uid=Zt++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:p,label:d,children:v}=n,r=t[v],h=jt(this);this.level=i?0:a?a.level+1:1,this.value=t[p],this.label=t[d],this.pathNodes=h,this.pathValues=h.map(b=>b.value),this.pathLabels=h.map(b=>b.label),this.childrenData=r,this.children=(r||[]).map(b=>new me(b,n,this)),this.loaded=!n.lazy||this.isLeaf||!Re(r)}get isDisabled(){const{data:t,parent:n,config:a}=this,{disabled:i,checkStrictly:p}=a;return(Qe(i)?i(t,this):!!t[i])||!p&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:t,config:n,childrenData:a,loaded:i}=this,{lazy:p,leaf:d}=n,v=Qe(d)?d(t,this):t[d];return Qa(v)?p&&!i?!1:!(Array.isArray(a)&&a.length):!!v}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:n,children:a}=this,i=new me(t,this.config,this);return Array.isArray(n)?n.push(t):this.childrenData=[t],a.push(i),i}calcText(t,n){const a=t?this.pathLabels.join(n):this.label;return this.text=a,a}broadcast(t,...n){const a=`onParent${ea(t)}`;this.children.forEach(i=>{i&&(i.broadcast(t,...n),i[a]&&i[a](...n))})}emit(t,...n){const{parent:a}=this,i=`onChild${ea(t)}`;a&&(a[i]&&a[i](...n),a.emit(t,...n))}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,n=t.filter(i=>!i.isDisabled),a=n.length?n.every(i=>i.checked):!1;this.setCheckState(a)}setCheckState(t){const n=this.children.length,a=this.children.reduce((i,p)=>{const d=p.checked?1:p.indeterminate?.5:0;return i+d},0);this.checked=this.loaded&&this.children.filter(i=>!i.isDisabled).every(i=>i.loaded&&i.checked)&&t,this.indeterminate=this.loaded&&a!==n&&a>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:n,multiple:a}=this.config;n||!a?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check"))}}const Ae=(e,t)=>e.reduce((n,a)=>(a.isLeaf?n.push(a):(!t&&n.push(a),n=n.concat(Ae(a.children,t))),n),[]);class oa{constructor(t,n){this.config=n;const a=(t||[]).map(i=>new me(i,this.config));this.nodes=a,this.allNodes=Ae(a,!1),this.leafNodes=Ae(a,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,n){const a=n?n.appendChild(t):new me(t,this.config);n||this.nodes.push(a),this.allNodes.push(a),a.isLeaf&&this.leafNodes.push(a)}appendNodes(t,n){t.forEach(a=>this.appendNode(a,n))}getNodeByValue(t,n=!1){return!t&&t!==0?null:this.getFlattedNodes(n).find(i=>Ce(i.value,t)||Ce(i.pathValues,t))||null}getSameNode(t){return t&&this.getFlattedNodes(!1).find(({value:a,level:i})=>Ce(t.value,a)&&t.level===i)||null}}const Va=be({modelValue:{type:Ne([Number,String,Array])},options:{type:Ne(Array),default:()=>[]},props:{type:Ne(Object),default:()=>({})}}),Yt={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:et,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Xt=e=>g(()=>({...Yt,...e.props})),ia=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},Jt=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():at(e)&&e.click()},Qt=(e,t)=>{const n=t.slice(0),a=n.map(p=>p.uid),i=e.reduce((p,d)=>{const v=a.indexOf(d.uid);return v>-1&&(p.push(d),n.splice(v,1),a.splice(v,1)),p},[]);return i.push(...n),i},el=Z({name:"ElCascaderPanel",components:{ElCascaderMenu:Wt},props:{...Va,border:{type:Boolean,default:!0},renderLabel:Function},emits:[de,Ee,"close","expand-change"],setup(e,{emit:t,slots:n}){let a=!1;const i=oe("cascader"),p=Xt(e);let d=null;const v=V(!0),r=V([]),h=V(null),b=V([]),f=V(null),k=V([]),w=g(()=>p.value.expandTrigger==="hover"),D=g(()=>e.renderLabel||n.default),J=()=>{const{options:c}=e,m=p.value;a=!1,d=new oa(c,m),b.value=[d.getNodes()],m.lazy&&Re(e.options)?(v.value=!1,L(void 0,C=>{C&&(d=new oa(C,m),b.value=[d.getNodes()]),v.value=!0,R(!1,!0)})):R(!1,!0)},L=(c,m)=>{const C=p.value;c=c||new me({},C,void 0,!0),c.loading=!0;const T=$=>{const I=c,M=I.root?null:I;$&&(d==null||d.appendNodes($,M)),I.loading=!1,I.loaded=!0,I.childrenData=I.childrenData||[],m&&m($)};C.lazyLoad(c,T)},O=(c,m)=>{var C;const{level:T}=c,$=b.value.slice(0,T);let I;c.isLeaf?I=c.pathNodes[T-2]:(I=c,$.push(c.children)),((C=f.value)==null?void 0:C.uid)!==(I==null?void 0:I.uid)&&(f.value=c,b.value=$,!m&&t("expand-change",(c==null?void 0:c.pathValues)||[]))},B=(c,m,C=!0)=>{const{checkStrictly:T,multiple:$}=p.value,I=k.value[0];a=!0,!$&&(I==null||I.doCheck(!1)),c.doCheck(m),P(),C&&!$&&!T&&t("close"),!C&&!$&&!T&&j(c)},j=c=>{c&&(c=c.parent,j(c),c&&O(c))},H=c=>d==null?void 0:d.getFlattedNodes(c),q=c=>{var m;return(m=H(c))==null?void 0:m.filter(C=>C.checked!==!1)},E=()=>{k.value.forEach(c=>c.doCheck(!1)),P(),b.value=b.value.slice(0,1),f.value=null,t("expand-change",[])},P=()=>{var c;const{checkStrictly:m,multiple:C}=p.value,T=k.value,$=q(!m),I=Qt(T,$),M=I.map(F=>F.valueByOption);k.value=I,h.value=C?M:(c=M[0])!=null?c:null},R=(c=!1,m=!1)=>{const{modelValue:C}=e,{lazy:T,multiple:$,checkStrictly:I}=p.value,M=!I;if(!(!v.value||a||!m&&Ce(C,h.value)))if(T&&!c){const re=na(Nt(sa(C))).map(x=>d==null?void 0:d.getNodeByValue(x)).filter(x=>!!x&&!x.loaded&&!x.loading);re.length?re.forEach(x=>{L(x,()=>R(!1,m))}):R(!0,m)}else{const F=$?sa(C):[C],re=na(F.map(x=>d==null?void 0:d.getNodeByValue(x,M)));ie(re,m),h.value=Ca(C)}},ie=(c,m=!0)=>{const{checkStrictly:C}=p.value,T=k.value,$=c.filter(F=>!!F&&(C||F.isLeaf)),I=d==null?void 0:d.getSameNode(f.value),M=m&&I||$[0];M?M.pathNodes.forEach(F=>O(F,!0)):f.value=null,T.forEach(F=>F.doCheck(!1)),e.props.multiple?ze($).forEach(F=>F.doCheck(!0)):$.forEach(F=>F.doCheck(!0)),k.value=$,te(ce)},ce=()=>{ya&&r.value.forEach(c=>{const m=c==null?void 0:c.$el;if(m){const C=m.querySelector(`.${i.namespace.value}-scrollbar__wrap`),T=m.querySelector(`.${i.b("node")}.${i.is("active")}`)||m.querySelector(`.${i.b("node")}.in-active-path`);lt(C,T)}})},pe=c=>{const m=c.target,{code:C}=c;switch(C){case K.up:case K.down:{c.preventDefault();const T=C===K.up?-1:1;$e(ka(m,T,`.${i.b("node")}[tabindex="-1"]`));break}case K.left:{c.preventDefault();const T=r.value[ia(m)-1],$=T==null?void 0:T.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);$e($);break}case K.right:{c.preventDefault();const T=r.value[ia(m)+1],$=T==null?void 0:T.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);$e($);break}case K.enter:Jt(m);break}};return pa(Ge,ze({config:p,expandingNode:f,checkedNodes:k,isHoverMenu:w,initialLoaded:v,renderLabelFn:D,lazyLoad:L,expandNode:O,handleCheckChange:B})),ne([p,()=>e.options],J,{deep:!0,immediate:!0}),ne(()=>e.modelValue,()=>{a=!1,R()},{deep:!0}),ne(()=>h.value,c=>{Ce(c,e.modelValue)||(t(de,c),t(Ee,c))}),tt(()=>r.value=[]),qe(()=>!Re(e.modelValue)&&R()),{ns:i,menuList:r,menus:b,checkedNodes:k,handleKeyDown:pe,handleCheckChange:B,getFlattedNodes:H,getCheckedNodes:q,clearCheckedNodes:E,calculateCheckedValue:P,scrollToExpandingNode:ce}}});function al(e,t,n,a,i,p){const d=U("el-cascader-menu");return y(),_("div",{class:N([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:t[0]||(t[0]=(...v)=>e.handleKeyDown&&e.handleKeyDown(...v))},[(y(!0),_(he,null,ke(e.menus,(v,r)=>(y(),A(d,{key:r,ref_for:!0,ref:h=>e.menuList[r]=h,index:r,nodes:[...v]},null,8,["index","nodes"]))),128))],34)}var Se=ue(el,[["render",al],["__file","index.vue"]]);Se.install=e=>{e.component(Se.name,Se)};const tl=Se,ll=be({...Va,size:He,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Ne(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Ne(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:nt.teleported,tagType:{...st.type,default:"info"},validateEvent:{type:Boolean,default:!0}}),nl={[de]:e=>!!e||e===null,[Ee]:e=>!!e||e===null,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,visibleChange:e=>Fe(e),expandChange:e=>!!e,removeTag:e=>!!e},sl={key:0},ol=["placeholder","onKeydown"],il=["onClick"],rl="ElCascader",dl=Z({name:rl}),ul=Z({...dl,props:ll,emits:nl,setup(e,{expose:t,emit:n}){const a=e,i={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:l})=>{const{modifiersData:o,placement:u}=l;["right","left","bottom","top"].includes(u)||(o.arrow.x=35)},requires:["arrow"]}]},p=ot();let d=0,v=0;const r=oe("cascader"),h=oe("input"),{t:b}=ga(),{form:f,formItem:k}=ca(),w=V(null),D=V(null),J=V(null),L=V(null),O=V(null),B=V(!1),j=V(!1),H=V(!1),q=V(!1),E=V(""),P=V(""),R=V([]),ie=V([]),ce=V([]),pe=V(!1),c=g(()=>p.style),m=g(()=>a.disabled||(f==null?void 0:f.disabled)),C=g(()=>a.placeholder||b("el.cascader.placeholder")),T=g(()=>P.value||R.value.length>0||pe.value?"":C.value),$=ra(),I=g(()=>["small"].includes($.value)?"small":"default"),M=g(()=>!!a.props.multiple),F=g(()=>!a.filterable||M.value),re=g(()=>M.value?P.value:E.value),x=g(()=>{var l;return((l=L.value)==null?void 0:l.checkedNodes)||[]}),Ia=g(()=>!a.clearable||m.value||H.value||!j.value?!1:!!x.value.length),Ve=g(()=>{const{showAllLevels:l,separator:o}=a,u=x.value;return u.length?M.value?"":u[0].calcText(l,o):""}),Ie=g({get(){return Ca(a.modelValue)},set(l){n(de,l),n(Ee,l),a.validateEvent&&(k==null||k.validate("change").catch(o=>fa()))}}),La=g(()=>[r.b(),r.m($.value),r.is("disabled",m.value),p.class]),Pa=g(()=>[h.e("icon"),"icon-arrow-down",r.is("reverse",B.value)]),_a=g(()=>r.is("focus",B.value||q.value)),Ue=g(()=>{var l,o;return(o=(l=w.value)==null?void 0:l.popperRef)==null?void 0:o.contentRef}),G=l=>{var o,u,S;m.value||(l=l??!B.value,l!==B.value&&(B.value=l,(u=(o=D.value)==null?void 0:o.input)==null||u.setAttribute("aria-expanded",`${l}`),l?(ge(),te((S=L.value)==null?void 0:S.scrollToExpandingNode)):a.filterable&&Be(),n("visibleChange",l)))},ge=()=>{te(()=>{var l;(l=w.value)==null||l.updatePopper()})},Le=()=>{H.value=!1},Pe=l=>{const{showAllLevels:o,separator:u}=a;return{node:l,key:l.uid,text:l.calcText(o,u),hitState:!1,closable:!m.value&&!l.isDisabled,isCollapseTag:!1}},_e=l=>{var o;const u=l.node;u.doCheck(!1),(o=L.value)==null||o.calculateCheckedValue(),n("removeTag",u.valueByOption)},Da=()=>{if(!M.value)return;const l=x.value,o=[],u=[];if(l.forEach(S=>u.push(Pe(S))),ie.value=u,l.length){l.slice(0,a.maxCollapseTags).forEach(Q=>o.push(Pe(Q)));const S=l.slice(a.maxCollapseTags),ee=S.length;ee&&(a.collapseTags?o.push({key:-1,text:`+ ${ee}`,closable:!1,isCollapseTag:!0}):S.forEach(Q=>o.push(Pe(Q))))}R.value=o},We=()=>{var l,o;const{filterMethod:u,showAllLevels:S,separator:ee}=a,Q=(o=(l=L.value)==null?void 0:l.getFlattedNodes(!a.props.checkStrictly))==null?void 0:o.filter(ae=>ae.isDisabled?!1:(ae.calcText(S,ee),u(ae,re.value)));M.value&&(R.value.forEach(ae=>{ae.hitState=!1}),ie.value.forEach(ae=>{ae.hitState=!1})),H.value=!0,ce.value=Q,ge()},Ba=()=>{var l;let o;H.value&&O.value?o=O.value.$el.querySelector(`.${r.e("suggestion-item")}`):o=(l=L.value)==null?void 0:l.$el.querySelector(`.${r.b("node")}[tabindex="-1"]`),o&&(o.focus(),!H.value&&o.click())},De=()=>{var l,o;const u=(l=D.value)==null?void 0:l.input,S=J.value,ee=(o=O.value)==null?void 0:o.$el;if(!(!ya||!u)){if(ee){const Q=ee.querySelector(`.${r.e("suggestion-list")}`);Q.style.minWidth=`${u.offsetWidth}px`}if(S){const{offsetHeight:Q}=S,ae=R.value.length>0?`${Math.max(Q+6,d)}px`:`${d}px`;u.style.height=ae,ge()}}},Ma=l=>{var o;return(o=L.value)==null?void 0:o.getCheckedNodes(l)},Fa=l=>{ge(),n("expandChange",l)},fe=l=>{var o;const u=(o=l.target)==null?void 0:o.value;if(l.type==="compositionend")pe.value=!1,te(()=>Me(u));else{const S=u[u.length-1]||"";pe.value=!mt(S)}},za=l=>{if(!pe.value)switch(l.code){case K.enter:G();break;case K.down:G(!0),te(Ba),l.preventDefault();break;case K.esc:B.value===!0&&(l.preventDefault(),l.stopPropagation(),G(!1));break;case K.tab:G(!1);break}},Ra=()=>{var l;(l=L.value)==null||l.clearCheckedNodes(),!B.value&&a.filterable&&Be(),G(!1)},Be=()=>{const{value:l}=Ve;E.value=l,P.value=l},Aa=l=>{var o,u;const{checked:S}=l;M.value?(o=L.value)==null||o.handleCheckChange(l,!S,!1):(!S&&((u=L.value)==null||u.handleCheckChange(l,!0,!1)),G(!1))},Ha=l=>{const o=l.target,{code:u}=l;switch(u){case K.up:case K.down:{const S=u===K.up?-1:1;$e(ka(o,S,`.${r.e("suggestion-item")}[tabindex="-1"]`));break}case K.enter:o.click();break}},xa=()=>{const l=R.value,o=l[l.length-1];v=P.value?0:v+1,!(!o||!v||a.collapseTags&&l.length>1)&&(o.hitState?_e(o):o.hitState=!0)},Ze=l=>{const o=l.target,u=r.e("search-input");o.className===u&&(q.value=!0),n("focus",l)},je=l=>{q.value=!1,n("blur",l)},Ka=it(()=>{const{value:l}=re;if(!l)return;const o=a.beforeFilter(l);rt(o)?o.then(We).catch(()=>{}):o!==!1?We():Le()},a.debounce),Me=(l,o)=>{!B.value&&G(!0),!(o!=null&&o.isComposing)&&(l?Ka():Le())},Ye=l=>Number.parseFloat(bt(h.cssVarName("input-height"),l).value)-2;return ne(H,ge),ne([x,m],Da),ne(R,()=>{te(()=>De())}),ne($,async()=>{await te();const l=D.value.input;d=Ye(l)||d,De()}),ne(Ve,Be,{immediate:!0}),qe(()=>{const l=D.value.input,o=Ye(l);d=l.offsetHeight||o,dt(l,De)}),t({getCheckedNodes:Ma,cascaderPanelRef:L,togglePopperVisible:G,contentRef:Ue}),(l,o)=>(y(),A(s(ta),{ref_key:"tooltipRef",ref:w,visible:B.value,teleported:l.teleported,"popper-class":[s(r).e("dropdown"),l.popperClass],"popper-options":i,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${s(r).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:Le},{default:z(()=>[ve((y(),_("div",{class:N(s(La)),style:ua(s(c)),onClick:o[5]||(o[5]=()=>G(s(F)?void 0:!0)),onKeydown:za,onMouseenter:o[6]||(o[6]=u=>j.value=!0),onMouseleave:o[7]||(o[7]=u=>j.value=!1)},[X(s(ut),{ref_key:"input",ref:D,modelValue:E.value,"onUpdate:modelValue":o[1]||(o[1]=u=>E.value=u),placeholder:s(T),readonly:s(F),disabled:s(m),"validate-event":!1,size:s($),class:N(s(_a)),tabindex:s(M)&&l.filterable&&!s(m)?-1:void 0,onCompositionstart:fe,onCompositionupdate:fe,onCompositionend:fe,onFocus:Ze,onBlur:je,onInput:Me},{suffix:z(()=>[s(Ia)?(y(),A(s(ye),{key:"clear",class:N([s(h).e("icon"),"icon-circle-close"]),onClick:se(Ra,["stop"])},{default:z(()=>[X(s(ct))]),_:1},8,["class","onClick"])):(y(),A(s(ye),{key:"arrow-down",class:N(s(Pa)),onClick:o[0]||(o[0]=se(u=>G(),["stop"]))},{default:z(()=>[X(s(pt))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),s(M)?(y(),_("div",{key:0,ref_key:"tagWrapper",ref:J,class:N(s(r).e("tags"))},[(y(!0),_(he,null,ke(R.value,u=>(y(),A(s(aa),{key:u.key,type:l.tagType,size:s(I),hit:u.hitState,closable:u.closable,"disable-transitions":"",onClose:S=>_e(u)},{default:z(()=>[u.isCollapseTag===!1?(y(),_("span",sl,le(u.text),1)):(y(),A(s(ta),{key:1,disabled:B.value||!l.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:z(()=>[W("span",null,le(u.text),1)]),content:z(()=>[W("div",{class:N(s(r).e("collapse-tags"))},[(y(!0),_(he,null,ke(ie.value.slice(l.maxCollapseTags),(S,ee)=>(y(),_("div",{key:ee,class:N(s(r).e("collapse-tag"))},[(y(),A(s(aa),{key:S.key,class:"in-tooltip",type:l.tagType,size:s(I),hit:S.hitState,closable:S.closable,"disable-transitions":"",onClose:Q=>_e(S)},{default:z(()=>[W("span",null,le(S.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),l.filterable&&!s(m)?ve((y(),_("input",{key:0,"onUpdate:modelValue":o[2]||(o[2]=u=>P.value=u),type:"text",class:N(s(r).e("search-input")),placeholder:s(Ve)?"":s(C),onInput:o[3]||(o[3]=u=>Me(P.value,u)),onClick:o[4]||(o[4]=se(u=>G(!0),["stop"])),onKeydown:ft(xa,["delete"]),onCompositionstart:fe,onCompositionupdate:fe,onCompositionend:fe,onFocus:Ze,onBlur:je},null,42,ol)),[[vt,P.value]]):Y("v-if",!0)],2)):Y("v-if",!0)],38)),[[s(ht),()=>G(!1),s(Ue)]])]),content:z(()=>[ve(X(s(tl),{ref_key:"cascaderPanelRef",ref:L,modelValue:s(Ie),"onUpdate:modelValue":o[8]||(o[8]=u=>Ke(Ie)?Ie.value=u:null),options:l.options,props:a.props,border:!1,"render-label":l.$slots.default,onExpandChange:Fa,onClose:o[9]||(o[9]=u=>l.$nextTick(()=>G(!1)))},null,8,["modelValue","options","props","render-label"]),[[la,!H.value]]),l.filterable?ve((y(),A(s(ba),{key:0,ref_key:"suggestionPanel",ref:O,tag:"ul",class:N(s(r).e("suggestion-panel")),"view-class":s(r).e("suggestion-list"),onKeydown:Ha},{default:z(()=>[ce.value.length?(y(!0),_(he,{key:0},ke(ce.value,u=>(y(),_("li",{key:u.uid,class:N([s(r).e("suggestion-item"),s(r).is("checked",u.checked)]),tabindex:-1,onClick:S=>Aa(u)},[W("span",null,le(u.text),1),u.checked?(y(),A(s(ye),{key:0},{default:z(()=>[X(s(ha))]),_:1})):Y("v-if",!0)],10,il))),128)):Te(l.$slots,"empty",{key:1},()=>[W("li",{class:N(s(r).e("empty-text"))},le(s(b)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[la,H.value]]):Y("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var we=ue(ul,[["__file","cascader.vue"]]);we.install=e=>{e.component(we.name,we)};const cl=we,hl=cl;export{hl as E,Rt as a,vl as b};
