import{u as E,a as V,r as p,b as y,c as k,d as B,o as I,e as R,f,g as a,w as t,h as e,t as _,i as H,l as g,E as N,j as q}from"./index-e0dafb85.js";import{E as z,a as A}from"./el-form-item-01002221.js";const C={class:"page flex-center"},F={class:"sign-box"},L={class:"title"},Z={__name:"index",setup(S){const h=E(),{t:o}=V(),d=p(),r=y({account:"",password:""}),w=k(()=>({account:[{required:!0,message:o("form.usernameHolder"),trigger:["change","blur"]},{pattern:/^[a-zA-Z][a-zA-Z0-9_-]{3,31}$/,message:o("form.usernameError"),trigger:["change","blur"]}],password:{required:!0,min:4,message:o("form.passwordError"),trigger:["change","blur"]}})),c=p(!1),l=B();function b(){d.value.validate(m=>{m&&(g.value=!0,g(r).then(s=>{l.commit("user/setToken",s.data.token),l.dispatch("user/refreshInfo"),l.commit("setRouteLoaded",!1),h.push("/")}).finally(()=>{c.value=!1}))})}return(m,s)=>{const i=N,n=A,x=q,v=z;return I(),R("div",C,[f("div",F,[a(v,{ref_key:"formRef",ref:d,model:e(r),rules:w.value,"label-width":"86px"},{default:t(()=>[f("h3",L,_(e(o)("login")),1),a(n,{label:e(o)("form.username"),prop:"account"},{default:t(()=>[a(i,{modelValue:e(r).account,"onUpdate:modelValue":s[0]||(s[0]=u=>e(r).account=u),placeholder:e(o)("form.usernameHolder"),"prefix-icon":"user"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(n,{label:e(o)("form.password"),prop:"password"},{default:t(()=>[a(i,{modelValue:e(r).password,"onUpdate:modelValue":s[1]||(s[1]=u=>e(r).password=u),type:"password",placeholder:e(o)("form.passwordHolder"),"prefix-icon":"lock"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(n,{label:""},{default:t(()=>[a(x,{type:"primary",loading:e(c),class:"w100p",onClick:b},{default:t(()=>[H(_(e(o)("login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}};export{Z as default};
