import{_,a as i,r as g,b,c as E,o as V,q as h,w as t,h as e,g as l,i as y,t as v,C as x,z as C,E as P,j as q}from"./index-e0dafb85.js";import{E as I,a as k}from"./el-form-item-01002221.js";const B={__name:"ChangePsw",setup(F){const{t:s}=i(),n=g(),o=b({password:"",npassword:"",cfpassword:""}),m=E(()=>({password:{required:!0,min:4,message:s("form.passwordError"),trigger:"blur"},npassword:[{required:!0,min:4,message:s("form.passwordError"),trigger:"blur"}],cfpassword:[{required:!0,min:4,message:s("form.passwordError"),trigger:"blur"},{validator:(u,r,a)=>{r!==o.npassword?a(new Error(s("form.cfpasswordError"))):a()},trigger:"blur"}]}));function c(){n.value.validate(u=>{if(!u)return;const{password:r,npassword:a}=o;x({password:r,npassword:a}).then(()=>{C.success(s("tips.success")),n.value.resetFields()})})}return(u,r)=>{const a=P,p=k,f=q,w=I;return V(),h(w,{ref_key:"formRef",ref:n,model:e(o),rules:e(m),"label-width":"150px",class:"form"},{default:t(()=>[l(p,{label:e(s)("form.currPassword"),prop:"password"},{default:t(()=>[l(a,{modelValue:e(o).password,"onUpdate:modelValue":r[0]||(r[0]=d=>e(o).password=d),type:"password",placeholder:e(s)("form.currPassword")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,{label:e(s)("form.npassword"),prop:"npassword"},{default:t(()=>[l(a,{modelValue:e(o).npassword,"onUpdate:modelValue":r[1]||(r[1]=d=>e(o).npassword=d),type:"password",placeholder:e(s)("form.npassword")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,{label:e(s)("form.cfpassword"),prop:"cfpassword"},{default:t(()=>[l(a,{modelValue:e(o).cfpassword,"onUpdate:modelValue":r[2]||(r[2]=d=>e(o).cfpassword=d),type:"password",placeholder:e(s)("form.cfpassword")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,null,{default:t(()=>[l(f,{type:"primary",class:"w100p",onClick:c},{default:t(()=>[y(v(e(s)("action.submit")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}},R=_(B,[["__scopeId","data-v-0c428465"]]);export{R as default};
